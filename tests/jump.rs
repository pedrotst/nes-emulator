use nes_emulator::cpu::CPU;

#[test]
fn jmp_brk() {
    let mut cpu = CPU::new();

    cpu.load(vec![0xa9, 0x03, 0x4c, 0x08, 0x60, 0x00, 0x00, 0x00, 0xa9, 0xf2, 0xea, 0xea, 0xea]);
    cpu.reset();
    println!("{:#X}", cpu.program_counter);
    cpu.run();
    println!("{:#X}", cpu.program_counter);
    assert_eq!(cpu.register_a, 0xf2);
}

#[test]
fn jsr_rts(){
    let mut cpu = CPU::new();

    cpu.load_and_run(vec![0x20 , 0x09, 0x60, 0x20, 0x0c, 0x60, 0x20, 0x12, 0x60, 0xa2, 0x00, 0x60, 0xe8,0xe0, 0x05, 0xd0, 0xfb, 0x60, 0x00]);
    assert_eq!(cpu.register_x, 0x05);
    assert_eq!(cpu.status, 0b0000_0011);

   
}
